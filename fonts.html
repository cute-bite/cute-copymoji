<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Stylish Fonts - Cute CopyMoji | Cool Text Fonts for Instagram & Twitter</title>
<meta name="description" content="Transform your text with stylish fonts on Cute CopyMoji. Copy and paste cool text fonts for Instagram, Twitter, TikTok, and all social platforms.">

  <link rel="stylesheet" href="./index.css" />
  <style>
    :root{ --shadow:0 8px 24px rgba(0,0,0,.06); }
    .body{ -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility; }

    /* í—¤ë” ì•„ë˜ ì—¬ë°± */
#app-header {
  margin-bottom: 10px;  /* í—¤ë” ì•„ë˜ì— 20px ì—¬ë°± */
}

/* ë˜ëŠ” main íƒœê·¸ì— ì—¬ë°± */
main.container {
  margin-top: 14px;  /* main ìœ„ì— 20px ì—¬ë°± */
}


    /* ë³¸ë¬¸ ì»¨í…Œì´ë„ˆ */
    .container{ max-width:1100px; margin:0 auto; padding:0 16px 80px; min-height:0vh; }

    /* ì–¸ì–´ íƒ­ */
    .filters{ display:flex; flex-wrap:wrap; align-items:center; justify-content:center; gap:8px; margin: 8px 0; }
    .filters .chip{ margin:0; }
    .chip{ border:1px solid var(--border); background:var(--card); border-radius:10px; padding:8px 12px; cursor:pointer; }
    .chip.is-active{ background:var(--chip); border-color: var(--chip); }

  

    /* ì…ë ¥ì°½ */
    .fonts-wrap{ display:grid; gap:14px; }
    .fonts-input{ width:90%; margin:0 auto; }
    .fonts-input input{
      width:100%; padding:12px 14px; border:1px solid var(--border);
      border-radius:14px; background:var(--card); color:var(--text); box-shadow:var(--shadow); outline:none;
    }

    /* ì¹´ë“œ ê·¸ë¦¬ë“œ */
    .fonts-grid{ display:grid; grid-template-columns:repeat(auto-fill, minmax(260px,1fr)); gap:12px; }
    .font-card{
      position:relative; display:grid; grid-template-rows:auto 1fr; gap:8px;
      min-height:130px; padding:14px; border:1px solid var(--border);
      border-radius:14px; background:var(--card); box-shadow:var(--shadow); cursor:pointer;
    }
    .font-card:hover{ background:var(--chip); }
    .font-title{ font-size:12px; color:var(--muted); }
    .font-out{
      font-size:20px; line-height:1.4; min-height:52px;
      display:flex; align-items:center; justify-content:flex-start; word-break:break-word;
      font-kerning:normal; font-variant-ligatures:none; font-synthesis:none;
    }
    .shuffle-btn{ position:absolute; top:10px; right:10px; }
    .icon-btn{
      border-radius:10px; padding:6px 8px; border:1px solid var(--border);
      background:var(--card); color:var(--text); cursor:pointer;
    }

    /* í°íŠ¸ í´ë°± */
    .math-font{
      font-family:"Noto Sans Math","STIX Two Math","Cambria Math","STIXGeneral","Symbola","Quivira","DejaVu Sans","Segoe UI Symbol","Apple Symbols",system-ui,ui-sans-serif;
    }
    .script-font{
      font-family:"Noto Sans Math","STIX Two Math","STIXGeneral","Segoe UI Symbol","Symbola","Quivira",system-ui,ui-sans-serif;
    }
    .fraktur-font{
      font-family:"UnifrakturMaguntia","UnifrakturCook","Noto Sans Math","STIX Two Math","STIXGeneral","DejaVu Sans","Segoe UI Symbol","Symbola","Quivira",system-ui;
    }

    /* Toast */
    #toast{
      position:fixed; left:50%; transform:translateX(-50%); bottom:24px;
      background:var(--card); border:1px solid var(--border); color:var(--text);
      padding:8px 12px; border-radius:10px; box-shadow:var(--shadow);
      opacity:0; transition:opacity .2s; z-index:50;
    }
    #toast.show{ opacity:1; }


    

    
  </style>

  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4324510515730355" crossorigin="anonymous"></script>

</head>

<body class="theme-pink">
  <!--  include -->
  <div id="app-header"></div>
  <main class="container">

    
  <!-- âœ… ì¸í˜ì´ì§€ ê´‘ê³  (ë³¸ë¬¸ ì•ˆ, ë§¨ ìœ„) -->
  <div id="ad-inpage" class="ad-slot">
    <!-- AdSense ë°˜ì‘í˜• ë””ìŠ¤í”Œë ˆì´ ìœ ë‹› ì½”ë“œ -->
  </div>
  
    <section class="fonts-wrap" aria-label="Font converter">
  <!-- ì…ë ¥ ë¨¼ì € -->
  <div class="fonts-input">
    <input id="fontsInput" placeholder="Type to preview in various fonts (click to copy)" />
  </div>

  <!-- ê·¸ ì•„ë˜ í•„í„° -->
  <div class="filters" role="tablist" aria-label="Language">
    <button id="btnEn" class="chip" role="tab" aria-pressed="true">English</button>
    <button id="btnJp" class="chip" role="tab" aria-pressed="false">Japanese</button>
  </div>


      <div id="fontsGrid" class="fonts-grid" aria-live="polite"></div>

      
    </section>
  </main>

  <div id="app-footer"></div>

  <!-- ë™ì¼í•œ ë ˆì´ì•„ì›ƒ ë¡œë” -->
  <script src="./include-layout.js" defer></script>
  <script>
    // ë ˆì´ì•„ì›ƒ ë¡œë“œ í›„, í—¤ë”ì˜ ë²„íŠ¼ë“¤ì´ ì¤€ë¹„ë˜ë©´ ëª¨ë‹¬ ì—°ê²° (emoticon.htmlê³¼ ë™ì¼)
    document.addEventListener('layout:ready', function(){
      const on = (sel, ev, fn) => { const el = document.querySelector(sel); if (el) el.addEventListener(ev, fn); };
      on('#menuTheme','click', () => document.getElementById('themeDialog')?.showModal());
      on('#languageToggle','click', () => document.getElementById('languageDialog')?.showModal());
    });
  </script>

  <div id="toast" role="status" aria-live="polite">Copied!</div>

  <script>
  (function(){
    const EL = {
      toast: document.getElementById('toast'),
      fontsInput: document.getElementById('fontsInput'),
      fontsGrid: document.getElementById('fontsGrid'),
      btnEn: document.getElementById('btnEn'),
      btnJp: document.getElementById('btnJp'),
    };
    let LANG = 'en'; // ê¸°ë³¸ ì˜ì–´

    /* ===== ìœ í‹¸ ===== */
    function showToast(msg){ EL.toast.textContent = msg; EL.toast.classList.add('show'); clearTimeout(showToast._t); showToast._t = setTimeout(()=>EL.toast.classList.remove('show'), 1100); }
    async function copy(text){
      try{
        if(navigator.clipboard && window.isSecureContext){ await navigator.clipboard.writeText(text); }
        else{ const ta=document.createElement('textarea'); ta.value=text; document.body.appendChild(ta); ta.select(); document.execCommand('copy'); ta.remove(); }
        showToast('Copied!');
      }catch{ showToast('Failed to Copy'); }
    }
    function makeCard(title, text, cls, reshuffle){
      const card = document.createElement('button');
      card.type='button'; card.className='font-card'; card.title='í´ë¦­í•˜ì—¬ ë³µì‚¬';
      const t1 = document.createElement('div'); t1.className='font-title'; t1.textContent = title;
      const t2 = document.createElement('div'); t2.className='font-out'; t2.textContent = text; if(cls) t2.classList.add(cls);
      if(reshuffle){
        const sh = document.createElement('button'); sh.type='button'; sh.className='icon-btn shuffle-btn'; sh.title='ì„ê¸°'; sh.textContent='â†»';
        sh.addEventListener('click', (e)=>{ e.stopPropagation(); t2.textContent = reshuffle(); });
        card.appendChild(sh);
      }
      card.append(t1,t2);
      card.addEventListener('click', ()=>copy(t2.textContent));
      return card;
    }

    /* ===== ê¸°ëŠ¥ ê°ì§€ (í•˜íŠ¸/í‹°ë²³ í‘œì‹ ë“±) ===== */
    const FeatureDetect = (() => {
      const canvas = document.createElement('canvas');
      const ctx = canvas.getContext('2d');
      ctx.font = '20px "Noto Sans", system-ui, sans-serif';
      function widthOf(s){ return ctx.measureText(s).width; }
      function supportsCombining(mark){ return Math.abs(widthOf('a'+mark) - widthOf('a')) > 0.2; }
      function supportsChar(ch){ const w = widthOf(ch), base = widthOf('a'); return w < base * 2.2; }
      return {
        supportsTaiThamHeart: () => supportsChar('\u1A5A') || supportsCombining('\u1A5A'),
        supportsTibetanMarks:  () => (supportsChar('\u0F80') && supportsChar('\u0F72')) || (supportsCombining('\u0F80') || supportsCombining('\u0F72')),
        supportsCombSmall:     () => supportsChar('\u0363') && supportsCombining('\u0363'),
      };
    })();

    /* ======================
       ENGLISH (fonts)
       ====================== */
    const mapRanges = {
      buildAlphaDigits: (U, L, D=null) => {
        const up=[...'ABCDEFGHIJKLMNOPQRSTUVWXYZ'], lo=[...'abcdefghijklmnopqrstuvwxyz'], dg=[...'0123456789']; const m={};
        up.forEach((ch,i)=> m[ch] = String.fromCodePoint(U+i));
        lo.forEach((ch,i)=> m[ch] = String.fromCodePoint(L+i));
        if(D!=null) dg.forEach((ch,i)=> m[ch] = String.fromCodePoint(D+i));
        return m;
      },
      fullWidth: (()=>{ const m={}; for(let i=33;i<=126;i++){ m[String.fromCharCode(i)] = String.fromCharCode(0xFF00 + i - 0x20); } m[' '] = 'ã€€'; return m; })(),
      circled: (()=>{ const m={}; const A='ABCDEFGHIJKLMNOPQRSTUVWXYZ', a='abcdefghijklmnopqrstuvwxyz', d='0123456789';
        for(let i=0;i<26;i++){ m[A[i]] = String.fromCodePoint(0x24B6+i); m[a[i]] = String.fromCodePoint(0x24D0+i); }
        for(let i=0;i<10;i++){ m[d[i]] = String.fromCodePoint(0x2460+i); } m['0']='â“ª'; return m; })(),

      /* âœ… ì†Œë¬¸ìë„ ë™ì¼ ê¸€ë¦¬í”„ë¡œ ë§¤í•‘ */
      squared: (()=>{ const m={}; const A='ABCDEFGHIJKLMNOPQRSTUVWXYZ';
        for(let i=0;i<26;i++){ const g=String.fromCodePoint(0x1F130+i); m[A[i]]=g; m[A[i].toLowerCase()]=g; } return m; })(),
      negativeSquared: (()=>{ const m={}; const A='ABCDEFGHIJKLMNOPQRSTUVWXYZ';
        for(let i=0;i<26;i++){ const g=String.fromCodePoint(0x1F170+i); m[A[i]]=g; m[A[i].toLowerCase()]=g; } return m; })(),

      smallCaps: (()=>{ const src='abcdefghijklmnopqrstuvwxyz', dst='á´€Ê™á´„á´…á´‡êœ°É¢ÊœÉªá´Šá´‹ÊŸá´É´á´á´˜Ç«Ê€sá´›á´œá´ á´¡xÊá´¢', m={};
        for(let i=0;i<src.length;i++){ m[src[i]]=dst[i]; m[src[i].toUpperCase()]=dst[i]; } return m; })(),
      fancy: (()=>{ const src='abcdefghijklmnopqrstuvwxyz', dst='Î±É“Ï‚É—Ñ”Æ’É É¦ÉªÊÆ™ÊŸÉ±É³ÏƒÏÏ™É¾Ê‚Æ­á´œÑµÑ¡Ñ…áƒ§È¥', m={};
        for(let i=0;i<src.length;i++){ const a=src[i]; m[a]=dst[i]; m[a.toUpperCase()]=dst[i]; } return m; })(),
      unique: (()=>{ const pairs={a:'êª–',b:'á¥‡',c:'Ï‚',d:'É–',e:'ê«€',f:'á »',g:'á§',h:'ê«',i:'ğ“²',j:'ğ“³',k:'êªœ',l:'êª¶',m:'êª‘',n:'êª€',o:'êª®',p:'Ï',q:'êª‡',r:'ğ˜³',s:'Ë¢',t:'ğ“½',u:'êªŠ',v:'êª™',w:'á­™',x:'á¥Š',y:'êª—',z:'Æº'}, m={};
        for(const [k,v] of Object.entries(pairs)){ m[k]=v; m[k.toUpperCase()]=v; } return m; })(),
      superscripts: (()=>{ const m={'0':'â°','1':'Â¹','2':'Â²','3':'Â³','4':'â´','5':'âµ','6':'â¶','7':'â·','8':'â¸','9':'â¹',a:'áµƒ',b:'áµ‡',c:'á¶œ',d:'áµˆ',e:'áµ‰',f:'á¶ ',g:'áµ',h:'Ê°',i:'â±',j:'Ê²',k:'áµ',l:'Ë¡',m:'áµ',n:'â¿',o:'áµ’',p:'áµ–',r:'Ê³',s:'Ë¢',t:'áµ—',u:'áµ˜',v:'áµ›',w:'Ê·',x:'Ë£',y:'Ê¸',z:'á¶»',A:'á´¬',B:'á´®',D:'á´°',E:'á´±',G:'á´³',H:'á´´',I:'á´µ',J:'á´¶',K:'á´·',L:'á´¸',M:'á´¹',N:'á´º',O:'á´¼',P:'á´¾',R:'á´¿',T:'áµ€',U:'áµ',V:'â±½',W:'áµ‚'}; return m; })(),
      regional: (()=>{ const m={}; const A='ABCDEFGHIJKLMNOPQRSTUVWXYZ';
        for(let i=0;i<26;i++){ const g=String.fromCodePoint(0x1F1E6+i); m[A[i]]=g; m[A[i].toLowerCase()]=g; } return m; })(),
    };
    const mapByTable = (s,t)=>[...s].map(ch=>t[ch] ?? ch).join('');
    const combineAbove = (s,marks)=>{ const suf=marks.join(''); return [...s].map(ch=>/\s/.test(ch)?ch:(ch+suf)).join(''); };

    const styles = [
      {key:'random', name:'random', cls:'', fn:(s)=>randomMixed(s)},
      {key:'sans',          name:'sans',          cls:'math-font',  fn:(s)=>mapByTable(s, mapRanges.buildAlphaDigits(0x1D5A0,0x1D5BA,0x1D7E2))},
      {key:'bold',          name:'bold',          cls:'math-font',  fn:(s)=>mapByTable(s, mapRanges.buildAlphaDigits(0x1D400,0x1D41A,0x1D7CE))},
      {key:'smallCaps',     name:'smallCaps',     cls:'',           fn:(s)=>mapByTable(s, mapRanges.smallCaps)},
      {key:'fullWidth',     name:'fullWidth',     cls:'',           fn:(s)=>mapByTable(s, mapRanges.fullWidth)},
      {key:'bubbles',       name:'bubbles',       cls:'',           fn:(s)=>mapByTable(s, mapRanges.circled)},
      {key:'square',        name:'square',        cls:'',           fn:(s)=>mapByTable(s, mapRanges.squared)},
      {key:'negative',      name:'negative',      cls:'',           fn:(s)=>mapByTable(s, mapRanges.negativeSquared)},
      {key:'fancy',         name:'fancy',         cls:'',           fn:(s)=>mapByTable(s, mapRanges.fancy)},
      {key:'unique',        name:'unique',        cls:'',           fn:(s)=>mapByTable(s, mapRanges.unique)},
      {key:'smileDots',     name:'smileDots',     cls:'',           fn:(s)=>combineAbove(s, ['\u0306','\u0308'])},
      {key:'sparkle',       name:'sparkle',       cls:'',           fn:(s)=>combineAbove(s, ['\u0307','\u20F0'])},
      {key:'ring',          name:'ring',          cls:'',           fn:(s)=>combineAbove(s, ['\u030A'])},
      {key:'tilde',         name:'tilde',         cls:'',           fn:(s)=>combineAbove(s, ['\u0303'])},
      {key:'encloseCircle', name:'encloseCircle', cls:'',           fn:(s)=>combineAbove(s, ['\u20DD'])},
      {key:'heartAbove',    name:'heartAbove',    cls:'',           fn:(s)=>heartAboveSafe(s)},
      {key:'heartLetter',   name:'heartLetter',   cls:'',           fn:(s)=>heartLetterSafe(s)},
      {key:'ribbon',        name:'ribbon',        cls:'',           fn:(s)=>ribbonAboveSafe(s)},
      {key:'italic',        name:'italic',        cls:'math-font',  fn:(s)=>mapByTable(s, mapRanges.buildAlphaDigits(0x1D434,0x1D44E,null))},
      {key:'boldItalic',    name:'boldItalic',    cls:'math-font',  fn:(s)=>mapByTable(s, mapRanges.buildAlphaDigits(0x1D468,0x1D482,null))},
      {key:'script',        name:'script',        cls:'script-font',fn:(s)=>mapByTable(s, mapRanges.buildAlphaDigits(0x1D49C,0x1D4B6,null))},
      {key:'boldScript',    name:'boldScript',    cls:'script-font',fn:(s)=>mapByTable(s, mapRanges.buildAlphaDigits(0x1D4D0,0x1D4EA,null))},
      {key:'gothic',        name:'gothic',        cls:'fraktur-font',fn:(s)=>mapByTable(s, mapRanges.buildAlphaDigits(0x1D504,0x1D51E,null))},
      {key:'boldGothic',    name:'boldGothic',    cls:'fraktur-font',fn:(s)=>mapByTable(s, mapRanges.buildAlphaDigits(0x1D56C,0x1D586,null))},
      {key:'mathItalic',    name:'mathItalic',    cls:'math-font',  fn:(s)=>mapByTable(s, mapRanges.buildAlphaDigits(0x1D434,0x1D44E,null))},
      {key:'mathBold',      name:'mathBold',      cls:'math-font',  fn:(s)=>mapByTable(s, mapRanges.buildAlphaDigits(0x1D400,0x1D41A,0x1D7CE))},
      {key:'mathBoldItalic',name:'mathBoldItalic',cls:'math-font',  fn:(s)=>mapByTable(s, mapRanges.buildAlphaDigits(0x1D468,0x1D482,null))},
      {key:'superscript',   name:'superscript',   cls:'',           fn:(s)=>mapByTable(s, mapRanges.superscripts)},
      {key:'underline',     name:'underline',     cls:'',           fn:(s)=>[...s].map(ch => ch+'\u0332').join('')},
      {key:'regional',      name:'regional',      cls:'',           fn:(s)=>mapByTable(s, mapRanges.regional)},
      {key:'double',        name:'double',        cls:'math-font',  fn:(s)=>mapByTable(s, mapRanges.buildAlphaDigits(0x1D538,0x1D552,null))},
    ];
    const fnByKey = {}; styles.forEach(s=>fnByKey[s.key]=s.fn);
    const RANDOM_SAFE_POOL = ['fullWidth','bubbles','square','negative','smallCaps','fancy','unique','sans','bold','smileDots','sparkle','ring','tilde','encloseCircle','heartAbove','heartLetter','ribbon'];
    function randomMixed(str){
      const pool=RANDOM_SAFE_POOL;
      return [...str].map(ch=>{
        if(/\s/.test(ch)) return ch;
        const key = pool[(Math.random()*pool.length)|0];
        return fnByKey[key](ch);
      }).join('');
    }
    function heartAboveSafe(str){ return (FeatureDetect.supportsTaiThamHeart()? combineAbove(str,['\u1A5A']) : combineAbove(str,['\u0306','\u0307'])); }
    function heartLetterSafe(str){
      const ok = FeatureDetect.supportsCombSmall();
      return [...str].map(ch=>{
        if(/\s/.test(ch)) return ch;
        const m = {a:'\u0363',e:'\u0364',i:'\u0365',o:'\u0366',u:'\u0367',c:'\u0368',d:'\u0369',h:'\u036A',m:'\u036B',r:'\u036C',t:'\u036D',v:'\u036E',x:'\u036F',
                   A:'\u0363',E:'\u0364',I:'\u0365',O:'\u0366',U:'\u0367',C:'\u0368',D:'\u0369',H:'\u036A',M:'\u036B',R:'\u036C',T:'\u036D',V:'\u036E',X:'\u036F'}[ch] || '\u0307';
        return 'â™¡'+m;
      }).join('');
    }
    function ribbonAboveSafe(str){ return (FeatureDetect.supportsTibetanMarks()? combineAbove(str,['\u0F80','\u0F72']) : combineAbove(str,['\u0303','\u0307'])); }

    function renderEN(){
      const txt = EL.fontsInput.value ?? '';
      EL.fontsGrid.innerHTML='';
      const frag = document.createDocumentFragment();
      for(const st of styles){
        const base = txt.trim() ? txt : st.name;  // ì…ë ¥ ì—†ìœ¼ë©´ í°íŠ¸ëª… ë¯¸ë¦¬ë³´ê¸°
        const out  = st.fn(base);
        const resh = (st.key==='random') ? ()=>randomMixed(base) : null;
        frag.appendChild(makeCard(st.name, out, st.cls, resh));
      }
      EL.fontsGrid.appendChild(frag);
    }

    /* ======================
       JAPANESE (ã²ã‚‰ãŒãª ë§¤í•‘)
       ====================== */
    const kanaMap = {
      'ã‚':['à¤•à¥‘'],'ã„':['à´—','É­','É¿'],'ã†':['É”','à©­à©‡','ï­'],'ãˆ':['Ê‘','É€'],'ãŠ':[],
      'ã‹':['×ªÊ…'],'ã':['â‚¹'],'ã':['ã„‘'],'ã‘':['Î¹Ï¯'],'ã“':['Ë‰'],
      'ã•':['à¤°','à¤Ÿ','à¨Ÿ','ã„œ','à¨Ÿà©‹'],'ã—':['áƒ¡','á’','ã‡Ÿ'],'ã™':['à¤µ','à¨•','à¨­','à²¤'],'ã›':['ã„','à¤'],'ã':['à±¾','à¨µ','Æº','àª¦à«…'],
      'ãŸ':['Æ’'],'ã¡':['ã„˜','Æ¾','Æ½','á–¬'],'ã¤':['á‘','á˜„'],'ã¦':['Ø­','á˜”','ê†'],'ã§':['Úƒ'],'ã¨':['à³¬','á˜§'],
      'ãª':['Ë‰','ÔºË‹','×“Ö','ÕªÕ'],'ã«':['áŒáŸ','É­','Ë‰','É­'],'ã¬':[],'ã­':['àµ¹'],'ã®':['áˆ'],
      'ã¯':['à¦¬à§‡','à¨°à¨¿','Õ¬à¨•'],'ã²':['ÊŠ','Æ±','á˜®'],'ãµ':['Î¶','à§´àª¡à«‡ãƒ½'],'ã¸':['ã„Ÿ'],'ã»':['à¤‡à¤¿','àª«àª¿','à¨°à¨¿à©ˆ','à¨à¨¿','à¨™à¨¿'],
      'ã¾':[],'ã¿':['à¨—','à¨®','àª®','à³«'],'ã‚€':['à°à±Œ'],'ã‚':[],'ã‚‚':['â‚º','â± ','Å§','áµµ'],
      'ã‚„':['å…¯'],'ã‚†':[],'ã‚ˆ':[],'ã‚‰':['á£¡','Ê–Ë‹'],'ã‚Š':['×±','Î¹Õµ','ï¾š)','áŠ','á‚'],
      'ã‚‹':['à¨¡','áµ¹','à¨›','à¤‡','Ê“'],'ã‚Œ':['Öƒ','à« '],'ã‚':['Æ·','à¨¤','áƒ³','ã„‹'],
      'ã‚':[],'ã‚’':['Î¾'],'ã‚“':['Æ•','Ô½','áƒ','á–¾','ê©¢','Õ­','à¹˜']
    };
    function mapKanaChar(ch, mode){
      const arr = kanaMap[ch];
      if(!arr || arr.length===0) return ch;
      if(mode==='first') return arr[0];
      return arr[(Math.random()*arr.length)|0];
    }
    function convertKana(str, mode='random'){ return [...str].map(ch=>mapKanaChar(ch, mode)).join(''); }

    /* ===== JP helpers: hiraâ†’kata, circled katakana, halfwidth katakana, decorators ===== */

// ã²ã‚‰ãŒãª â†’ ã‚«ã‚¿ã‚«ãƒŠ
function hiraToKata(str){
  return str.replace(/[\u3041-\u3096]/g, ch => String.fromCharCode(ch.charCodeAt(0) + 0x60));
}

// ì›í˜• ì˜¤ë²„ë ˆì´(í°íŠ¸/OSì— ë”°ë¼ ê²¹ì¹¨ í’ˆì§ˆ ë‹¤ë¦„)
function jpEncloseCircleOverlay(str){ return combineAbove(str, ['\u20DD']); }

// ã‹(U+32D0)~ã‹¾(U+32FE) ì›í˜• ì¹´íƒ€ì¹´ë‚˜ ë§¤í•‘ (ëŒ€ì‘ë˜ëŠ” ê¸€ìë§Œ)
const CIRCLED_KATA = (() => {
  const A = 'ã‚¢ã‚¤ã‚¦ã‚¨ã‚ªã‚«ã‚­ã‚¯ã‚±ã‚³ã‚µã‚·ã‚¹ã‚»ã‚½ã‚¿ãƒãƒ„ãƒ†ãƒˆãƒŠãƒ‹ãƒŒãƒãƒãƒãƒ’ãƒ•ãƒ˜ãƒ›ãƒãƒŸãƒ ãƒ¡ãƒ¢ãƒ¤ãƒ¦ãƒ¨ãƒ©ãƒªãƒ«ãƒ¬ãƒ­ãƒ¯ãƒ°ãƒ±ãƒ²';
  const CP_START = 0x32D0; // ã‹
  const m = {};
  for(let i=0;i<A.length;i++){ m[A[i]] = String.fromCodePoint(CP_START + i); }
  return m;
})();

function toCircledKatakana(input){
  const kata = hiraToKata(input);
  let out = '';
  for (const ch of kata){
    if (KATA_VOICED_BASE[ch]){               // íƒìŒ: ê¸°ë³¸ì ì¨í´ + 3099
      const base = KATA_VOICED_BASE[ch];
      const circ = CIRCLED_KATA[base] ?? base;
      out += circ + DAKUTEN;
      continue;
    }
    if (KATA_SEMI_BASE[ch]){                 // ë°˜íƒìŒ: ê¸°ë³¸ì ì¨í´ + 309A
      const base = KATA_SEMI_BASE[ch];
      const circ = CIRCLED_KATA[base] ?? base;
      out += circ + HANDAKUTEN;
      continue;
    }
    // ì¼ë°˜ ìŒì ˆ: ìˆìœ¼ë©´ ì¨í´, ì—†ìœ¼ë©´ í´ë°±(ì˜ˆ: 'ãƒ³'ì€ ì˜¤ë²„ë ˆì´)
    out += CIRCLED_KATA[ch] ?? (ch === 'ãƒ³' ? ch + '\u20DD' : ch);
  }
 return out;
}


// íƒìŒ(ã‚›)/ë°˜íƒìŒ(ã‚œ)ì˜ 'ê¸°ë³¸ì' ë§¤í•‘
const KATA_VOICED_BASE = { // dakuten
  'ã‚¬':'ã‚«','ã‚®':'ã‚­','ã‚°':'ã‚¯','ã‚²':'ã‚±','ã‚´':'ã‚³',
  'ã‚¶':'ã‚µ','ã‚¸':'ã‚·','ã‚º':'ã‚¹','ã‚¼':'ã‚»','ã‚¾':'ã‚½',
  'ãƒ€':'ã‚¿','ãƒ‚':'ãƒ','ãƒ…':'ãƒ„','ãƒ‡':'ãƒ†','ãƒ‰':'ãƒˆ',
  'ãƒ':'ãƒ','ãƒ“':'ãƒ’','ãƒ–':'ãƒ•','ãƒ™':'ãƒ˜','ãƒœ':'ãƒ›',
  'ãƒ´':'ã‚¦'
};
const KATA_SEMI_BASE = {   // handakuten
  'ãƒ‘':'ãƒ','ãƒ”':'ãƒ’','ãƒ—':'ãƒ•','ãƒš':'ãƒ˜','ãƒ':'ãƒ›'
};

// ë°˜ë“œì‹œ 'ê²°í•©í˜•' ì½”ë“œí¬ì¸íŠ¸ ì‚¬ìš©(ê²¹ì³ì„œ ì°í˜)
const DAKUTEN    = '\u3099'; // COMBINING VOICED SOUND MARK
const HANDAKUTEN = '\u309A'; // COMBINING SEMI-VOICED SOUND MARK


// ë°˜ê° ì¹´íƒ€ì¹´ë‚˜
const KATA_HALF_BASE = {
  'ã‚¢':'ï½±','ã‚¤':'ï½²','ã‚¦':'ï½³','ã‚¨':'ï½´','ã‚ª':'ï½µ','ã‚«':'ï½¶','ã‚­':'ï½·','ã‚¯':'ï½¸','ã‚±':'ï½¹','ã‚³':'ï½º',
  'ã‚µ':'ï½»','ã‚·':'ï½¼','ã‚¹':'ï½½','ã‚»':'ï½¾','ã‚½':'ï½¿','ã‚¿':'ï¾€','ãƒ':'ï¾','ãƒ„':'ï¾‚','ãƒ†':'ï¾ƒ','ãƒˆ':'ï¾„',
  'ãƒŠ':'ï¾…','ãƒ‹':'ï¾†','ãƒŒ':'ï¾‡','ãƒ':'ï¾ˆ','ãƒ':'ï¾‰','ãƒ':'ï¾Š','ãƒ’':'ï¾‹','ãƒ•':'ï¾Œ','ãƒ˜':'ï¾','ãƒ›':'ï¾',
  'ãƒ':'ï¾','ãƒŸ':'ï¾','ãƒ ':'ï¾‘','ãƒ¡':'ï¾’','ãƒ¢':'ï¾“','ãƒ¤':'ï¾”','ãƒ¦':'ï¾•','ãƒ¨':'ï¾–','ãƒ©':'ï¾—','ãƒª':'ï¾˜',
  'ãƒ«':'ï¾™','ãƒ¬':'ï¾š','ãƒ­':'ï¾›','ãƒ¯':'ï¾œ','ãƒ²':'ï½¦','ãƒ³':'ï¾',
  'ã‚¡':'ï½§','ã‚£':'ï½¨','ã‚¥':'ï½©','ã‚§':'ï½ª','ã‚©':'ï½«','ãƒ£':'ï½¬','ãƒ¥':'ï½­','ãƒ§':'ï½®','ãƒƒ':'ï½¯',
  'ãƒ¼':'ï½°','ãƒ»':'ï½¥','ã€‚':'ï½¡','ã€':'ï½¤','ã€Œ':'ï½¢','ã€':'ï½£','ã‚›':'ï¾','ã‚œ':'ï¾Ÿ'
};
const KATA_HALF_VOICED = {
  'ã‚¬':'ï½¶ï¾','ã‚®':'ï½·ï¾','ã‚°':'ï½¸ï¾','ã‚²':'ï½¹ï¾','ã‚´':'ï½ºï¾',
  'ã‚¶':'ï½»ï¾','ã‚¸':'ï½¼ï¾','ã‚º':'ï½½ï¾','ã‚¼':'ï½¾ï¾','ã‚¾':'ï½¿ï¾',
  'ãƒ€':'ï¾€ï¾','ãƒ‚':'ï¾ï¾','ãƒ…':'ï¾‚ï¾','ãƒ‡':'ï¾ƒï¾','ãƒ‰':'ï¾„ï¾',
  'ãƒ':'ï¾Šï¾','ãƒ“':'ï¾‹ï¾','ãƒ–':'ï¾Œï¾','ãƒ™':'ï¾ï¾','ãƒœ':'ï¾ï¾','ãƒ´':'ï½³ï¾'
};
const KATA_HALF_SEMI = { 'ãƒ‘':'ï¾Šï¾Ÿ','ãƒ”':'ï¾‹ï¾Ÿ','ãƒ—':'ï¾Œï¾Ÿ','ãƒš':'ï¾ï¾Ÿ','ãƒ':'ï¾ï¾Ÿ' };
function toHalfwidthKatakana(input){
  const kata = hiraToKata(input);
  let out = '';
  for(const ch of kata){
    if(KATA_HALF_VOICED[ch]) out += KATA_HALF_VOICED[ch];
    else if(KATA_HALF_SEMI[ch]) out += KATA_HALF_SEMI[ch];
    else out += KATA_HALF_BASE[ch] ?? ch;
  }
  return out;
}

// JP ê²°í•© ë°ì½” (ì˜ë¬¸ ë°ì½” ê·¸ëŒ€ë¡œ ì¬ì‚¬ìš©)
const jpDecor = {
  underline:   (s)=>[...s].map(ch=>ch+'\u0332').join(''),
  sparkle:     (s)=>combineAbove(s, ['\u0307','\u20F0']),
  ring:        (s)=>combineAbove(s, ['\u030A']),
  tilde:       (s)=>combineAbove(s, ['\u0303']),
  heartAbove:  (s)=>heartAboveSafe(s),
  heartLetter: (s)=>heartLetterSafe(s),
  ribbon:      (s)=>ribbonAboveSafe(s)
};

// ëœë¤ ë°ì½”
const JP_RANDOM_POOL = ['underline','sparkle','ring','tilde','heartAbove','ribbon'];
function jpRandomDecor(str){
  return [...str].map(ch=>{
    if(/\s/.test(ch)) return ch;
    const key = JP_RANDOM_POOL[(Math.random()*JP_RANDOM_POOL.length)|0];
    return jpDecor[key](ch);
  }).join('');
}


function renderJP(){
  const base = (EL.fontsInput.value || 'ã‚ã‚“').trim();

  // íˆë¼ê°€ë‚˜ ì˜ˆì‹œ(ì¤‘ìš”!): Symbol/ëœë¤ ë§¤í•‘ì´ ì‹¤ì œë¡œ ëŒì•„ê°€ê²Œ í•¨
  const getBaseRandom   = () => (EL.fontsInput.value || 'ã‚‰ã‚“ã ã‚€').trim();  // Random
  const getBaseSymbol   = () => (EL.fontsInput.value || 'ã—ã‚“ã¼ã‚‹').trim();  // Symbol Font
  const getBaseCircled  = () => (EL.fontsInput.value || 'ã‹ãŸã‹ãª').trim();  // circledKatakana
  const getBaseHalf     = () => (EL.fontsInput.value || 'ã‹ãŸã‹ãª').trim();  // halfwidthKatakana

  EL.fontsGrid.innerHTML = '';
  const frag = document.createDocumentFragment();

  // (ì›ë˜ ìˆë˜ í—¬í¼ ìœ ì§€)
  const symbolRandomChar = (ch) => convertKana(ch, 'random');
  const bubblesChar      = (ch) => jpEncloseCircleOverlay(ch);
  const circledChar      = (ch) => toCircledKatakana(ch);
  const halfwidthChar    = (ch) => toHalfwidthKatakana(ch);

  function randomPicker(s){
    const fns = [symbolRandomChar, bubblesChar, circledChar, halfwidthChar];
    return [...s].map(ch => /\s/.test(ch) ? ch : fns[(Math.random()*fns.length)|0](ch)).join('');
  }

  // Random: ë§¤ë²ˆ ìƒˆë¡œ ì„ì„
  const mkRandom = () => randomPicker(getBaseRandom());
  frag.appendChild( makeCard('Random', mkRandom(), '', mkRandom) );

  // Symbol Font: ê¸€ìë³„ ëœë¤ ë§¤í•‘ì„ ë§¤ë²ˆ ì ìš©
  const mkSymbol = () => convertKana(getBaseSymbol(), 'random');
  frag.appendChild( makeCard('Symbol Font', mkSymbol(), '', mkSymbol) );

  // circled / halfwidth: íˆë¼ê°€ë‚˜ ì…ë ¥ -> ë‚´ë¶€ì—ì„œ ê°€íƒ€ì¹´ë‚˜/ë°˜ê°ìœ¼ë¡œ ë³€í™˜ë¨
  const rows = [
    { name: 'circledKatakana',   out: toCircledKatakana(getBaseCircled()) },
    { name: 'halfwidthKatakana', out: toHalfwidthKatakana(getBaseHalf()) },
  ];
  for (const r of rows) frag.appendChild( makeCard(r.name, r.out, '', r.reshuffle) );

  EL.fontsGrid.appendChild(frag);
}






    /* ===== ë°”ì¸ë”© ===== */
    function setLang(next){
      LANG = next;
      EL.btnEn.setAttribute('aria-pressed', String(next==='en'));
      EL.btnJp.setAttribute('aria-pressed', String(next==='jp'));
    if(next==='en'){
    EL.fontsInput.placeholder = 'Type to preview in various fonts (click to copy)';
    renderEN();
    }else{
    EL.fontsInput.placeholder = 'Enter text in Hiragana to preview in various fonts (click to copy)';
    renderJP();
    }

      EL.fontsInput.focus();
    }
    EL.btnEn.addEventListener('click', ()=> setLang('en'));
    EL.btnJp.addEventListener('click', ()=> setLang('jp'));
    EL.fontsInput.addEventListener('input', ()=> (LANG==='en'? renderEN() : renderJP()));

    /* ===== ì´ˆê¸°í™” ===== */
    setLang('en'); // ê¸°ë³¸ ì˜ì–´
  })();

  

  
  </script>
</body>
</html>
